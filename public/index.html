<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>joojle</title>
  <meta name="description" content="joojle Ù‡Ùˆ Ù…Ø­Ø±Ùƒ Ø¨Ø­Ø« Ø°ÙƒÙŠ ÙˆØ³Ø±ÙŠØ¹ Ø´Ø¨ÙŠÙ‡ Ø¨Ø¬ÙˆØ¬Ù„ØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ù…Ù† Ø®Ù„Ø§Ù„Ù‡ Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„ÙˆÙŠØ¨ Ø¨Ø³Ù‡ÙˆÙ„Ø© ÙˆØ¯Ù‚Ø©.">
  <meta name="keywords" content="joojle, joojle search, google alternative, Ù…Ø­Ø±Ùƒ Ø¨Ø­Ø«, Ø¨Ø­Ø«, Ø¨Ø­Ø« Ø¹Ø±Ø¨ÙŠ, Ø¨Ø­Ø« Ø³Ø±ÙŠØ¹, Ù…Ø­Ø±Ùƒ Ø¨Ø­Ø« Ø¹Ø±Ø¨ÙŠ, Ø¨Ø¯ÙŠÙ„ Ø¬ÙˆØ¬Ù„, Ø¨Ø­Ø« Ø§Ù„ÙˆÙŠØ¨, Ø¨Ø­Ø« Ø°ÙƒÙŠ, Ù…Ø­Ø±Ùƒ Ø¨Ø­Ø« ÙŠØ´Ø¨Ù‡ Google, Ø¬ÙˆØ¬Ù„, Ø¨Ø­Ø« Ù…ØªÙ‚Ø¯Ù…">
  <link rel="icon" href="favicon.png" type="image/png">
  <style>
    body { background:#fff; font-family:Arial, sans-serif; margin:0; padding:0; direction:rtl; text-align:center; }
    header { display:flex; justify-content:flex-end; padding:15px 30px; font-size:14px; }
    header a { margin-left:20px; text-decoration:none; color:#000; }
    .logo { font-size:92px; font-weight:bold; margin-top:100px; }
    .blue{color:#4285F4} .red{color:#EA4335} .yellow{color:#FBBC05} .green{color:#34A853}
    .search-box { margin:30px auto; width:600px; max-width:90%; }
    .shortcuts { margin-top:30px; display:flex; justify-content:center; gap:40px; flex-wrap:wrap; }
    .shortcut { text-align:center; color:#333; font-size:14px; cursor:pointer; position:relative; }
    .shortcut-circle { width:60px; height:60px; background-color:#ffe8dc; border-radius:50%; display:flex; align-items:center; justify-content:center; margin:0 auto 8px; font-size:24px; }
    .shortcut-circle img { width:30px; }
    .delete-btn { position:absolute; top:-8px; right:-8px; background:red; color:white; border:none; border-radius:50%; width:20px; height:20px; font-size:12px; cursor:pointer; display:none; }
    .shortcut:hover .delete-btn { display:block; }
    .customize { position:fixed; bottom:20px; left:20px; background-color:#ffe8dc; padding:8px 14px; border-radius:999px; font-size:14px; box-shadow:0 1px 4px rgba(0,0,0,0.2); display:flex; align-items:center; gap:5px; cursor:pointer; }
    #results .result-item { max-width:700px; margin:20px auto; text-align:right; border-bottom:1px solid #eee; padding-bottom:15px; }
    #results .result-item img { max-width:100px; max-height:100px; margin-left:10px; vertical-align:middle; }
  </style>
</head>
<body>

<header>
  <a href="https://mail.google.com" target="_blank">Gmail</a>
  <a href="images.html">ØµÙˆØ±</a>
</header>

<div class="logo">
  <span class="blue">j</span><span class="red">o</span><span class="yellow">o</span><span class="blue">j</span><span class="green">l</span><span class="red">e</span>
</div>

<div class="search-box">
  <input
    id="searchInput"
    type="text"
    placeholder="Ø§Ø¨Ø­Ø« ÙÙŠ Ø§Ù„ÙˆÙŠØ¨..."
    oninput="autocomplete()"
    onkeydown="if(event.key==='Enter')search()"
    style="width:100%; padding:14px 20px; border-radius:30px; border:1px solid #ddd; font-size:16px; box-shadow:0 1px 6px rgba(32,33,36,0.28); outline:none;"
  />
  <div id="suggestions"></div>
</div>

<div id="results"></div>

<div class="shortcuts" id="shortcuts">
  <div class="shortcut" onclick="addShortcut()"><div class="shortcut-circle">+</div><div>Ø¥Ø¶Ø§ÙØ© Ø§Ø®ØªØµØ§Ø±</div></div>
  <div class="shortcut" onclick="copyLink()"><div class="shortcut-circle">S</div><div>Ù…Ø´Ø§Ø±ÙƒØ©</div></div>
  <div class="shortcut" onclick="window.open('https://chrome.google.com/webstore', '_blank')">
    <div class="shortcut-circle"><img src="https://ssl.gstatic.com/gb/images/bar/al-icon.png" alt="icon"></div><div>Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</div>
  </div>
</div>

<div class="customize" onclick="alert('Ù‡Ø°Ù‡ Ù…ÙŠØ²Ø© ØªØ®ØµÙŠØµ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ù‚ÙŠØ¯ Ø§Ù„ØªØ·ÙˆÙŠØ±!')">ğŸ–Œ ØªØ®ØµÙŠØµ Chrome</div>

<script>
function copyLink(){navigator.clipboard.writeText(window.location.href).then(()=>{alert("ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©!");});}

function createShortcutElement(name,url){
  const div=document.createElement("div"); div.className="shortcut"; div.onclick=()=>window.open(url,"_blank");
  const circle=document.createElement("div"); circle.className="shortcut-circle"; circle.textContent=name.charAt(0).toUpperCase();
  const label=document.createElement("div"); label.textContent=name;
  const del=document.createElement("button"); del.className="delete-btn"; del.textContent="Ã—"; del.title="Ø­Ø°Ù";
  del.onclick=(e)=>{ e.stopPropagation(); if(confirm(`Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù "${name}"ØŸ`)){ div.remove(); let saved=JSON.parse(localStorage.getItem("shortcuts")||"[]"); saved=saved.filter(s=>s.name!==name||s.url!==url); localStorage.setItem("shortcuts",JSON.stringify(saved)); } };
  div.appendChild(circle); div.appendChild(label); div.appendChild(del);
  return div;
}

function addShortcut(){
  const name=prompt("Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹ØŸ"); if(!name)return;
  const url=prompt("Ù…Ø§ Ø±Ø§Ø¨Ø· Ø§Ù„Ù…ÙˆÙ‚Ø¹ØŸ"); if(!url||!url.startsWith("http")){ alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ø§Ø¨Ø· ØµØ­ÙŠØ­ ÙŠØ¨Ø¯Ø£ Ø¨Ù€ http"); return; }
  const container=document.getElementById("shortcuts"); const shortcut=createShortcutElement(name,url); container.insertBefore(shortcut,container.firstChild);
  let saved=JSON.parse(localStorage.getItem("shortcuts")||"[]"); saved.push({name,url}); localStorage.setItem("shortcuts",JSON.stringify(saved));
}

window.addEventListener("DOMContentLoaded",()=>{
  const saved=JSON.parse(localStorage.getItem("shortcuts")||"[]"); const container=document.getElementById("shortcuts");
  saved.reverse().forEach(({name,url})=>{ const shortcut=createShortcutElement(name,url); container.insertBefore(shortcut,container.firstChild); });
});
</script>

<script>
const API_BASE = ""; // Ù†Ø³Ø¨ÙŠØŒ ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ localhost Ùˆ Vercel

async function search(){
  const q=document.getElementById("searchInput").value;
  if(!q)return;

  const res=await fetch(`${API_BASE}/api/search?q=${encodeURIComponent(q)}`);
  const data=await res.json();

  document.getElementById("results").innerHTML=data.map(r=>`
    <div class="result-item">
      ${r.image ? `<img src="${r.image}" alt="image">` : ""}
      <a href="${r.link}" target="_blank" style="color:#1a0dab;font-size:18px;text-decoration:none">${r.title}</a>
      <p style="color:#4d5156">${r.snippet}</p>
    </div>
  `).join("");
}

async function autocomplete(){
  const q=document.getElementById("searchInput").value;
  if(q.length<2)return;

  const res=await fetch(`${API_BASE}/api/autocomplete?q=${q}`);
  const data=await res.json();

  document.getElementById("suggestions").innerHTML=`
    <div style="background:#fff;border:1px solid #ddd;border-radius:10px">
      ${data.map(s=>`<div onclick="selectSuggestion('${s}')"
        style="padding:8px;cursor:pointer">${s}</div>`).join("")}
    </div>
  `;
}

function selectSuggestion(text){ document.getElementById("searchInput").value=text; document.getElementById("suggestions").innerHTML=""; search(); }

async function summarize(content){
  const res=await fetch(`${API_BASE}/api/ai/summary`,{
    method:"POST",
    body:JSON.stringify({content:decodeURIComponent(content)})
  });
  const data=await res.json();
  alert("âœ¨ Ø§Ù„ØªÙ„Ø®ÙŠØµ:\n\n"+data.summary);
}
</script>

</body>
</html>
