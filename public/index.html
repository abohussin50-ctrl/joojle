<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>joojle</title>
  <meta name="description" content="joojle Ù‡Ùˆ Ù…Ø­Ø±Ùƒ Ø¨Ø­Ø« Ø°ÙƒÙŠ ÙˆØ³Ø±ÙŠØ¹ Ø´Ø¨ÙŠÙ‡ Ø¨Ø¬ÙˆØ¬Ù„ØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ù…Ù† Ø®Ù„Ø§Ù„Ù‡ Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„ÙˆÙŠØ¨ Ø¨Ø³Ù‡ÙˆÙ„Ø© ÙˆØ¯Ù‚Ø©.">
  <meta name="keywords" content="joojle, joojle search, google alternative, Ù…Ø­Ø±Ùƒ Ø¨Ø­Ø«, Ø¨Ø­Ø«, Ø¨Ø­Ø« Ø¹Ø±Ø¨ÙŠ, Ø¨Ø­Ø« Ø³Ø±ÙŠØ¹, Ù…Ø­Ø±Ùƒ Ø¨Ø­Ø« Ø¹Ø±Ø¨ÙŠ, Ø¨Ø¯ÙŠÙ„ Ø¬ÙˆØ¬Ù„, Ø¨Ø­Ø« Ø§Ù„ÙˆÙŠØ¨, Ø¨Ø­Ø« Ø°ÙƒÙŠ, Ù…Ø­Ø±Ùƒ Ø¨Ø­Ø« ÙŠØ´Ø¨Ù‡ Google, Ø¬ÙˆØ¬Ù„, Ø¨Ø­Ø« Ù…ØªÙ‚Ø¯Ù…">
  <meta name="google-site-verification" content="SPV5E-84KA3wRJP5qafkJQiErlt7jJnw_R6jZAI_B-s" />
  <link rel="icon" href="favicon.png" type="image/png">
  <style>
    body { background:#fff; font-family:Arial, sans-serif; margin:0; padding:0; direction:rtl; text-align:center; }
    header { display:flex; justify-content:flex-end; padding:15px 30px; font-size:14px; }
    header a { margin-left:20px; text-decoration:none; color:#000; }
    .logo { font-size:92px; font-weight:bold; margin-top:100px; }
    .blue{color:#4285F4} .red{color:#EA4335} .yellow{color:#FBBC05} .green{color:#34A853}
    .search-box { margin:30px auto; width:600px; max-width:90%; }
    .shortcuts { margin-top:30px; display:flex; justify-content:center; gap:40px; flex-wrap:wrap; }
    .shortcut { text-align:center; color:#333; font-size:14px; cursor:pointer; position:relative; }
    .shortcut-circle { width:60px; height:60px; background-color:#ffe8dc; border-radius:50%; display:flex; align-items:center; justify-content:center; margin:0 auto 8px; font-size:24px; }
    .shortcut-circle img { width:30px; }
    .delete-btn { position:absolute; top:-8px; right:-8px; background:red; color:white; border:none; border-radius:50%; width:20px; height:20px; font-size:12px; cursor:pointer; display:none; }
    .shortcut:hover .delete-btn { display:block; }
    .customize { position:fixed; bottom:20px; left:20px; background-color:#ffe8dc; padding:8px 14px; border-radius:999px; font-size:14px; box-shadow:0 1px 4px rgba(0,0,0,0.2); display:flex; align-items:center; gap:5px; cursor:pointer; }
    #results .result-item { max-width:700px; margin:20px auto; text-align:right; border-bottom:1px solid #eee; padding-bottom:15px; }
    #results .result-item img { max-width:100px; max-height:100px; margin-left:10px; vertical-align:middle; }
.search-wrapper {
  display: flex;
  align-items: center;
  gap: 8px;
  background: #fff;
  border: 1px solid #ddd;
  border-radius: 999px;
  padding: 8px 12px;
  box-shadow: 0 1px 6px rgba(32,33,36,.28);
  max-width: 600px;
  margin: auto;
  box-sizing: border-box;
  width: 100%;
}

.search-wrapper input {
  flex: 1;
  border: none;
  outline: none;
  font-size: 16px;
  padding: 8px;
  direction: rtl;
  background: transparent;
  min-width: 0;
}

.icon-btn {
  background: none;
  border: none;
  cursor: pointer;
  padding: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.icon-btn svg {
  width: 22px;
  height: 22px;
  stroke: #5f6368;
  fill: none;
  stroke-width: 2;
}

.icon-btn:hover svg {
  stroke: #1a73e8;
}
@media (max-width: 480px) {
  .search-wrapper {
    padding: 6px 10px;
    gap: 4px;
  }

  .search-wrapper input {
    font-size: 15px;
    padding: 6px;
  }

  .icon-btn {
    padding: 4px;
  }

  .icon-btn svg {
    width: 18px;
    height: 18px;
  }
}

  </style>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7559491443488147"
     crossorigin="anonymous"></script>
</head>
<body>

<header>
  <a href="https://mail.google.com" target="_blank">Gmail</a>
  <a href="images.html">ØµÙˆØ±</a>
</header>

<div class="logo">
  <span class="blue">j</span><span class="red">o</span><span class="yellow">o</span><span class="blue">j</span><span class="green">l</span><span class="red">e</span>
</div>

<div class="search-box">
  <div class="search-wrapper">

    <!-- Ø²Ø± Ø§Ù„Ø¨Ø­Ø« -->
    <button class="icon-btn" onclick="goToResults()" title="Ø¨Ø­Ø«">
      <svg viewBox="0 0 24 24">
        <circle cx="11" cy="11" r="7"></circle>
        <line x1="16.65" y1="16.65" x2="22" y2="22"></line>
      </svg>
    </button>

    <!-- input -->
    <input
      id="searchInput"
      type="text"
      placeholder="Ø§Ø¨Ø­Ø« ÙÙŠ Ø§Ù„ÙˆÙŠØ¨..."
      onkeydown="if(event.key==='Enter')goToResults()"
    />

    <!-- Ø¨Ø­Ø« ØµÙˆØªÙŠ -->
    <button class="icon-btn" onclick="voiceSearch()" title="Ø¨Ø­Ø« ØµÙˆØªÙŠ">
      <svg viewBox="0 0 24 24">
        <path d="M12 14a3 3 0 0 0 3-3V5a3 3 0 0 0-6 0v6a3 3 0 0 0 3 3z"/>
        <path d="M19 11a7 7 0 0 1-14 0"/>
        <line x1="12" y1="18" x2="12" y2="22"/>
        <line x1="8" y1="22" x2="16" y2="22"/>
      </svg>
    </button>

    <!-- Ø¨Ø­Ø« Ø¨Ø§Ù„ØµÙˆØ±Ø© -->
    <button class="icon-btn" onclick="imageSearch()" title="Ø¨Ø­Ø« Ø¨Ø§Ù„ØµÙˆØ±Ø©">
      <svg viewBox="0 0 24 24">
        <rect x="3" y="5" width="18" height="14" rx="2"/>
        <circle cx="9" cy="10" r="2"/>
        <path d="M21 15l-5-5L5 21"/>
      </svg>
    </button>

    <input type="file" id="imageInput" accept="image/*" hidden />

  </div>
</div>
<script>
/* Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ ØµÙØ­Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ */
function goToResults(query = null) {
  const q = query || document.getElementById("searchInput").value.trim();
  if (!q) return;

  window.location.href = `results.html?q=${encodeURIComponent(q)}`;
}

/* Ø§Ù„Ø¨Ø­Ø« Ø§Ù„ØµÙˆØªÙŠ */
function voiceSearch() {
  if (!("webkitSpeechRecognition" in window)) {
    alert("Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø§Ù„Ø¨Ø­Ø« Ø§Ù„ØµÙˆØªÙŠ");
    return;
  }

  const recognition = new webkitSpeechRecognition();
  recognition.lang = "ar-SA";
  recognition.start();

  recognition.onresult = function (event) {
    const text = event.results[0][0].transcript;
    document.getElementById("searchInput").value = text;
    goToResults(text);
  };
}

/* Ø§Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„ØµÙˆØ±Ø© (Ø§Ù†ØªÙ‚Ø§Ù„ ÙÙ‚Ø· Ø­Ø§Ù„ÙŠØ§Ù‹) */
function imageSearch() {
  document.getElementById("imageInput").click();
}

document.getElementById("imageInput").addEventListener("change", function () {
  const file = this.files[0];
  if (!file) return;

  // Ù…Ø¤Ù‚ØªÙ‹Ø§: ÙŠÙ†ØªÙ‚Ù„ Ù„ØµÙØ­Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬
  window.location.href = "results.html?image=1";
});
</script>

<script>
function handleEnter(e) {
  if (e.key === 'Enter') {
    e.preventDefault(); // ÙŠÙ…Ù†Ø¹ Ø§Ù„Ø³Ù„ÙˆÙƒ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ (Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ÙÙˆØ±Ù… Ø£Ùˆ Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©)
    const query = document.getElementById("searchInput").value;
    if (!query) return;
    
    // ÙØªØ­ ØµÙØ­Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù…Ø¹ ØªÙ…Ø±ÙŠØ± Ø§Ù„ÙƒÙ„Ù…Ø© ÙÙŠ Ø§Ù„Ù€ URL
    window.location.href = `results.html?q=${encodeURIComponent(query)}`;
    
    // Ø§Ù„ÙƒÙ„Ù…Ø© ØªØ¨Ù‚Ù‰ ÙÙŠ Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø¨Ø­Ø«
    // Ø¥Ø°Ø§ Ø£Ø±Ø¯ØªØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù‚ÙŠÙ…Ø© Ù‡Ù†Ø§:
    // document.getElementById("searchInput").value = query;
  }
}
</script>

  <div id="suggestions"></div>
</div>

<div id="results"></div>

<div class="shortcuts" id="shortcuts">
  <div class="shortcut" onclick="addShortcut()"><div class="shortcut-circle">+</div><div>Ø¥Ø¶Ø§ÙØ© Ø§Ø®ØªØµØ§Ø±</div></div>
  <div class="shortcut" onclick="copyLink()"><div class="shortcut-circle">S</div><div>Ù…Ø´Ø§Ø±ÙƒØ©</div></div>
  <div class="shortcut" onclick="window.open('https://chrome.google.com/webstore', '_blank')">
    <div class="shortcut-circle"><img src="https://ssl.gstatic.com/gb/images/bar/al-icon.png" alt="icon"></div><div>Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</div>
  </div>
</div>

<div class="customize" onclick="alert('Ù‡Ø°Ù‡ Ù…ÙŠØ²Ø© ØªØ®ØµÙŠØµ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ù‚ÙŠØ¯ Ø§Ù„ØªØ·ÙˆÙŠØ±!')">ğŸ–Œ ØªØ®ØµÙŠØµ Chrome</div>

<script>
function copyLink(){navigator.clipboard.writeText(window.location.href).then(()=>{alert("ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©!");});}

function createShortcutElement(name,url){
  const div=document.createElement("div"); div.className="shortcut"; div.onclick=()=>window.open(url,"_blank");
  const circle=document.createElement("div"); circle.className="shortcut-circle"; circle.textContent=name.charAt(0).toUpperCase();
  const label=document.createElement("div"); label.textContent=name;
  const del=document.createElement("button"); del.className="delete-btn"; del.textContent="Ã—"; del.title="Ø­Ø°Ù";
  del.onclick=(e)=>{ e.stopPropagation(); if(confirm(`Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù "${name}"ØŸ`)){ div.remove(); let saved=JSON.parse(localStorage.getItem("shortcuts")||"[]"); saved=saved.filter(s=>s.name!==name||s.url!==url); localStorage.setItem("shortcuts",JSON.stringify(saved)); } };
  div.appendChild(circle); div.appendChild(label); div.appendChild(del);
  return div;
}

function addShortcut(){
  const name=prompt("Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹ØŸ"); if(!name)return;
  const url=prompt("Ù…Ø§ Ø±Ø§Ø¨Ø· Ø§Ù„Ù…ÙˆÙ‚Ø¹ØŸ"); if(!url||!url.startsWith("http")){ alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ø§Ø¨Ø· ØµØ­ÙŠØ­ ÙŠØ¨Ø¯Ø£ Ø¨Ù€ http"); return; }
  const container=document.getElementById("shortcuts"); const shortcut=createShortcutElement(name,url); container.insertBefore(shortcut,container.firstChild);
  let saved=JSON.parse(localStorage.getItem("shortcuts")||"[]"); saved.push({name,url}); localStorage.setItem("shortcuts",JSON.stringify(saved));
}

window.addEventListener("DOMContentLoaded",()=>{
  const saved=JSON.parse(localStorage.getItem("shortcuts")||"[]"); const container=document.getElementById("shortcuts");
  saved.reverse().forEach(({name,url})=>{ const shortcut=createShortcutElement(name,url); container.insertBefore(shortcut,container.firstChild); });
});
</script>

<script>
const API_BASE = ""; // Ù†Ø³Ø¨ÙŠØŒ ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ localhost Ùˆ Vercel

async function search(){
  const q=document.getElementById("searchInput").value;
  if(!q)return;

  const res=await fetch(`${API_BASE}/api/search?q=${encodeURIComponent(q)}`);
  const data=await res.json();

  document.getElementById("results").innerHTML=data.map(r=>`
    <div class="result-item">
      ${r.image ? `<img src="${r.image}" alt="image">` : ""}
      <a href="${r.link}" target="_blank" style="color:#1a0dab;font-size:18px;text-decoration:none">${r.title}</a>
      <p style="color:#4d5156">${r.snippet}</p>
    </div>
  `).join("");
}

async function autocomplete(){
  const q=document.getElementById("searchInput").value;
  if(q.length<2)return;

  const res=await fetch(`${API_BASE}/api/autocomplete?q=${q}`);
  const data=await res.json();

  document.getElementById("suggestions").innerHTML=`
    <div style="background:#fff;border:1px solid #ddd;border-radius:10px">
      ${data.map(s=>`<div onclick="selectSuggestion('${s}')"
        style="padding:8px;cursor:pointer">${s}</div>`).join("")}
    </div>
  `;
}

function selectSuggestion(text){ document.getElementById("searchInput").value=text; document.getElementById("suggestions").innerHTML=""; search(); }

async function summarize(content){
  const res=await fetch(`${API_BASE}/api/ai/summary`,{
    method:"POST",
    body:JSON.stringify({content:decodeURIComponent(content)})
  });
  const data=await res.json();
  alert("âœ¨ Ø§Ù„ØªÙ„Ø®ÙŠØµ:\n\n"+data.summary);
}
let classifier;
async function loadModel() {
    if (typeof ml5 !== 'undefined') {
        classifier = await ml5.imageClassifier('MobileNet');
    }
}
loadModel();
</script>

</body>
</html>
